"use strict";(self.webpackChunkmern_app=self.webpackChunkmern_app||[]).push([[255],{4398:function(e,r,n){n.d(r,{Z:function(){return a}});n(2791);var t=n(184),a=function(e){return(0,t.jsx)("div",{className:"card ".concat(e.className),style:e.style,children:e.children})}},4119:function(e,r,n){n.d(r,{Z:function(){return h}});var t=n(9439),a=n(2791),s=n(7196),i=n(6517),o=n(6507),l=n(4398),c=n(1786),d=n(4488),u=n(8874),p=n(184);var h=function(e){var r=e.form,n=e.handleSubmit,h=e.header,m=e.isLoading,x=e.error,f=e.signUpMode,v=(0,o.Z)(r),j=(0,t.Z)(v,2),w=j[0],Z=j[1],b=(0,a.useState)(!1),g=(0,t.Z)(b,2),y=g[0],k=g[1],E=(0,a.useState)("password"),N=(0,t.Z)(E,2),P=N[0],I=N[1];return(0,a.useEffect)((function(){I(y?"text":"password")}),[y]),(0,p.jsxs)(l.Z,{className:"authentication",children:[(0,p.jsx)("h2",{className:"authentication__header",children:h}),(0,p.jsx)("hr",{}),(0,p.jsxs)("form",{onSubmit:function(e){e.preventDefault(),n(Z)},children:[f&&(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(s.Z,{element:"input",label:"Name",id:"name",type:"text",placeholder:"Enter Name",errorText:"Invalid Name! Enter at least 5 charecters ",validators:[(0,c.CP)(3)],onInput:w}),(0,p.jsx)(u.Z,{id:"image",center:!0,errorText:!0,onInput:w})]}),(0,p.jsx)(s.Z,{element:"input",label:"Email",id:"email",type:"email",placeholder:"Enter Email Address",errorText:"Invalid Email Address",validators:[(0,c.Ox)()],onInput:w}),(0,p.jsx)(s.Z,{element:"input",label:"Password",id:"password",type:P,placeholder:"Enter Password",errorText:"Invalid Password! Enter at least 5 charecters",validators:[(0,c.CP)(6)],onInput:w}),(0,p.jsxs)("div",{children:[(0,p.jsx)("input",{type:"checkbox",id:"showPassword",onClick:function(){return k((function(e){return!e}))}}),(0,p.jsx)("label",{htmlFor:"showPassword",children:"Show Password"})]}),(0,p.jsx)("div",{className:"center",children:(0,p.jsx)(i.Z,{type:"submit",disabled:!Z.isValid,children:m?(0,p.jsx)(d.Z,{}):"Log In"})}),x&&(0,p.jsx)("span",{style:{color:"red"},children:x})]})]})}},7419:function(e,r,n){n.r(r);var t=n(4165),a=n(5861),s=n(2791),i=n(4119),o=n(3108),l=n(7689),c=n(7517),d=n(184),u={inputs:{email:{value:"",isValid:!1},password:{value:"",isValid:!1}},isValid:!1};r.default=function(){var e=(0,s.useContext)(o.V).login,r=(0,l.s0)(),n=(0,c.x)(),p=n.isLoading,h=n.error,m=n.sendRequest;function x(){return(x=(0,a.Z)((0,t.Z)().mark((function n(a){var s;return(0,t.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,m("".concat("https://proj-places-app.herokuapp.com/api","/users/login"),"POST",JSON.stringify({email:a.inputs.email.value,password:a.inputs.password.value}),{"Content-Type":"application/json"});case 3:s=n.sent,console.log(s.token),e(s.user,s.token),r("/",{replace:!0}),n.next=11;break;case 9:n.prev=9,n.t0=n.catch(0);case 11:case"end":return n.stop()}}),n,null,[[0,9]])})))).apply(this,arguments)}return n.clearError,(0,d.jsx)(i.Z,{form:u,handleSubmit:function(e){return x.apply(this,arguments)},header:"Login Required",error:h,isLoading:p})}}}]);
//# sourceMappingURL=255.9b5f03d5.chunk.js.map